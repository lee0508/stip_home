<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>STIP HomePage stipvelation</title>
  <link rel="apple-touch-icon" sizes="57x57" href="favicon.ico2/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="favicon.ico2/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="favicon.ico2/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="favicon.ico2/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="favicon.ico2/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="favicon.ico2/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="favicon.ico2/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="favicon.ico2/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="favicon.ico2/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192" href="favicon.ico2/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon.ico2/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="favicon.ico2/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon.ico2/favicon-16x16.png">
  <link rel="manifest" href="favicon.ico2/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="favicon.ico2/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" type="" href="assets/style/components/header.css" />
  <link rel="stylesheet" href="assets/style/pages/listing.css" />
  <link rel="stylesheet" href="assets/style/reset.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT@2/fonts/static/woff2/SUIT.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/TagCloud@2.5.0/dist/TagCloud.min.js"></script>
  <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

  <!-- 결제 관련 스크립트 -->
  <!-- <script src="js/config.js"></script> -->
  <!-- <script src="js/currency-converter2.js"></script> -->
  <!-- <script src="js/payment-handler3.js"></script> -->
  <style>
    body {
      font-family: "SUIT", sans-serif;
    }
  </style>
</head>

<body>
  <div class="root">
    <!-- header start -->
    <!-- header.html -->
    <!-- <!DOCTYPE html> -->
    <!-- <html> -->
    <!-- <head> -->

    <header class="header-container">
      <div class="header-wrapper">
        <div class="header-logo">
          <a href="index.html">
            <img src="assets/images/logo.svg" alt="logo" />
          </a>
        </div>
        <nav class="header-nav">
          <div class="burger-menu-wrapper">
            <img src="assets/images/mobile/menu.svg" class="burger-menu" alt="burger-menu" onclick="handleBurgerMenu()">
            <div class="side-bar-container">
              <div class="sidebar-background">
                <div class="close-btn">
                  <img src="assets/images/mobile/close.svg" alt="close" onclick="handleBurgerMenuClose()">
                </div>
              </div>
              <div class="side-bar-wrapper">
                <nav class="side-bar-section">
                  <div class="side-bar-list">
                    <a class="side-bar-item navigate" href="index.html" data-page="main"
                      onclick="handlePageSelection('main')">main</a>
                    <a class="side-bar-item navigate active" href="listing.html" data-page="listing"
                      onclick="handlePageSelection('listing')">Listing</a>
                    <a class="side-bar-item navigate" href="about.html" data-page="about"
                      onclick="handlePageSelection('about')">About us</a>
                    <a class="side-bar-item navigate" href="product.html" data-page="product"
                      onclick="handlePageSelection('product')">Product</a>
                    <a class="side-bar-item navigate" href="contact.html" data-page="contact"
                      onclick="handlePageSelection('contact')">Contact</a>
                  </div>
                  <div class="side-bar-list lang">
                    <span class="side-bar-item" onclick="handleLangChange('ko', true)">한국어</span>
                    <span class="side-bar-item" onclick="handleLangChange('en', true)">English</span>
                    <span class="side-bar-item" onclick="handleLangChange('ja', true)">日本語</span>
                    <span class="side-bar-item" onclick="handleLangChange('zh', true)">中文</span>
                  </div>
                </nav>
              </div>
            </div>
          </div>
          <ul>
            <li><a class="nav-item navigate active" href="listing.html" data-page="listing"
                onclick="handlePageSelection('listing')">Listing</a></li>
            <li><a class="nav-item navigate" href="about.html" data-page="about"
                onclick="handlePageSelection('about')">About us</a></li>
            <li><a class="nav-item navigate" href="product.html" data-page="product"
                onclick="handlePageSelection('product')">Product</a></li>
            <li><a class="nav-item navigate" href="contact.html" data-page="contact"
                onclick="handlePageSelection('contact')">Contact</a></li>
            <div class="dropdown">
              <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                data-bs-toggle="dropdown" aria-expanded="false">
                한국어
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                <li>
                  <div class="dropdown-item" onclick="handleLangChange('ko')">한국어</div>
                </li>
                <li>
                  <div class="dropdown-item" onclick="handleLangChange('en')">English</div>
                </li>
                <li>
                  <div class="dropdown-item" onclick="handleLangChange('ja')">日本語</div>
                </li>
                <li>
                  <div class="dropdown-item" onclick="handleLangChange('zh')">中文</div>
                </li>
              </ul>
            </div>
          </ul>
        </nav>
      </div>
    </header>
    <script>
      const dropdown = document.querySelector('.dropdown');
      const dropdown_menu = document.querySelector('.dropdown-menu');
      // let lang = [];
      // const clickedDivValues = [];
      let divValue = '';
      let pageLang = '';

      // pageLang = localStorage.getItem('preferredLanguage') || 'ko';

      // 여기에 아래 코드 추가
      document.addEventListener('DOMContentLoaded', function () {
        // 현재 저장된 언어 가져오기
        const savedLang = localStorage.getItem('preferredLanguage') || 'ko';

        // 드롭다운 버튼 텍스트 업데이트
        const dropdownButton = document.getElementById('dropdownMenuButton1');
        if (dropdownButton) {
          dropdownButton.textContent = langLabel[savedLang];
        }

        // 사이드바 언어 active 상태 업데이트
        document.querySelectorAll('.side-bar-item.lang span').forEach(el => {
          el.classList.remove('active');
          if (el.textContent === langLabel[savedLang]) {
            el.classList.add('active');
          }
        });

        // contactForm 표시 설정 - style="display: none" 제거
        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
          contactForm.style.display = 'block';
        }
      });

      dropdown_menu.addEventListener('click', (event) => {
        const liElement = event.target.closest('li');
        if (liElement) {
          const divElement = liElement.querySelector('div'); // li 안의 div 찾기
          if (divElement) {
            divValue = divElement.textContent.trim(); // div 값 가져오기
            // 선택한 언어를 로컬 저장소에 저장
            // localStorage.setItem("preferredLanguage", divValue);
            if (divValue === '한국어') {
              pageLang = 'ko';
            }
            if (divValue === 'English') {
              pageLang = 'en';
            }
            if (divValue === '日本語') {
              pageLang = 'ja';
            }
            if (divValue === '中文') {
              pageLang = 'jz';
            }

            // pageLang = divValue;

            // div 값 기록0
            // if (!clickedDivValues.includes(divValue)) {
            // clickedDivValues.push(divValue);
            // }

            // 결과를 화면에 표시
            // resultElement.textContent = `클릭한 div 값: ${clickedDivValues.join(' → ')}`;
          }

        }
        console.log('divValue ->' + `${divValue}`, 'pageLang ->' + `${pageLang}`);
      });

      function isMobileDevice() {
        const userAgentCheck = /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const screenSizeCheck = window.matchMedia("(max-width: 768px)").matches;

        return userAgentCheck || screenSizeCheck;
      }

      if (isMobileDevice()) {
        console.log("모바일 기기 또는 작은 화면에서 접속 중입니다.");
      } else {
        console.log("데스크톱 기기에서 접속 중입니다.");
      }

      // 국가 목록을 가져오는 함수
      async function fetchCountries(lang) {
        try {
          const countrySelect = document.getElementById('country');
          const currentLang = lang // getCurrentLanguage();

          // 이미 옵션이 로드되어 있다면 다시 로드하지 않음
          if (countrySelect.options.length > 1) {
            return;
          }

          const response = await fetch(`api/country.php?lang=${currentLang}`);
          const data = await response.json();

          if (data.success) {
            // 기존 옵션들 제거 (첫 번째 placeholder 옵션 유지)
            while (countrySelect.options.length > 1) {
              countrySelect.remove(1);
            }

            // 새로운 옵션들 추가
            data.data.forEach(country => {
              const option = document.createElement('option');
              option.value = country.country_code;
              option.textContent = country.country_name;
              countrySelect.appendChild(option);
            });

            // select 요소 업데이트 이벤트 발생
            const event = new Event('change');
            countrySelect.dispatchEvent(event);
          } else {
            console.error('Failed to fetch countries:', data.message);
            showError(getErrorMessage(currentLang, 'fetch_countries_failed'));
          }
        } catch (error) {
          console.error('Error fetching countries:', error);
          showError(getErrorMessage(currentLang, 'fetch_countries_failed'));
        }
      }

      // 국가 선택 관련 에러 메시지
      const countryErrorMessages = {
        ko: {
          fetch_countries_failed: '국가 목록을 불러오는데 실패했습니다.'
        },
        en: {
          fetch_countries_failed: 'Failed to load country list.'
        },
        ja: {
          fetch_countries_failed: '国リストの読み込みに失敗しました。'
        },
        zh: {
          fetch_countries_failed: '加载国家列表失败。'
        }
      };

      // 에러 메시지 가져오기 함수 수정
      function getErrorMessage(lang, key) {
        if (key && countryErrorMessages[lang] && countryErrorMessages[lang][key]) {
          return countryErrorMessages[lang][key];
        }
        return errorMessages[lang] || errorMessages['en'];
      }

      // 현재 언어 설정을 가져오는 함수
      function getCurrentLanguage() {
        // 로컬 스토리지에서 저장된 언어 설정을 가져옴
        let currentLang = localStorage.getItem('preferredLanguage');

        // 저장된 설정이 없으면 기본값으로 'ko' 사용
        if (!currentLang) {
          // 브라우저의 언어 설정 확인
          const browserLang = navigator.language.slice(0, 2);
          // 지원하는 언어인지 확인
          currentLang = ['ko', 'en', 'ja', 'zh'].includes(browserLang) ? browserLang : 'ko';
          // 설정을 로컬 스토리지에 저장
          localStorage.setItem('preferredLanguage', currentLang);
        }

        return currentLang;
      }

      // 파일 업로드 관련 메시지의 다국어 처리
      const fileUploadMessages = {
        ko: {
          allowedTypes: '허용된 파일 형식: PDF, DOC, DOCX. 최대 파일 크기: 5MB',
          invalidType: '허용된 파일 형식이 아닙니다. PDF, DOC, DOCX 파일만 업로드 가능합니다.',
          sizeExceeded: '파일 크기가 5MB를 초과합니다.',
          dragAndDrop: '파일을 드래그하여 놓거나 클릭하여 선택하세요',
          delete: '삭제'
        },
        en: {
          allowedTypes: 'Allowed file types: PDF, DOC, DOCX. Maximum file size: 5MB',
          invalidType: 'Invalid file type. Only PDF, DOC, DOCX files are allowed.',
          sizeExceeded: 'File size exceeds 5MB limit.',
          dragAndDrop: 'Drag and drop files here or click to select',
          delete: 'Delete'
        },
        ja: {
          allowedTypes: '許可されているファイル形式：PDF、DOC、DOCX。最大ファイルサイズ：5MB',
          invalidType: '無効なファイル形式です。PDF、DOC、DOCXファイルのみアップロード可能です。',
          sizeExceeded: 'ファイルサイズが5MBを超えています。',
          dragAndDrop: 'ファイルをドラッグ＆ドロップまたはクリックして選択',
          delete: '削除'
        },
        zh: {
          allowedTypes: '允许的文件类型：PDF、DOC、DOCX。最大文件大小：5MB',
          invalidType: '文件类型无效。仅允许PDF、DOC、DOCX文件。',
          sizeExceeded: '文件大小超过5MB限制。',
          dragAndDrop: '拖放文件到这里或点击选择',
          delete: '删除'
        }
      };
    </script>
    <!-- </html> -->
    <!-- header end -->
    <div class="bg-image">
      <img src="assets/images/bg-image.jpg" alt="bg-image" />
    </div>
    <div class="bg-mobile-image">
      <img src="assets/images/light-bg-image.png" alt="bg-mobile-image" />
    </div>
    <main class="content-container">
      <div class="content-wrapper">
        <div class="title-area">
          <h1 class="letter-title">
            <span> Listing </span>
          </h1>
          <p><span>S</span>hare your wisdom with the world</p>
          <p><span>T</span>he seeds of progress begin with you</p>
        </div>
        <div class="row-area">
          <div class="radius-box column">
            <form id="contactForm" aria-labelledby="formTitle" style="display: none;">
              <!-- Hidden fields for product information -->
              <input type="hidden" id="productCode" name="productCode" value="0001">
              <input type="hidden" id="productName" name="productName" value="특허뉴스PDF">

              <div class="input-box mb-3">
                <label for="country" class="required form-label" aria-required="true">
                  <span class="label-text" data-lang-ko="국가" data-lang-en="Country" data-lang-ja="国家"
                    data-lang-zh="国家"></span>
                  <span class="sr-only" data-lang-ko="(필수)" data-lang-en="(Required)" data-lang-ja="(必須)"
                    data-lang-zh="(必填)"></span>
                </label>
                <select class="form-select" id="country" name="country" required>
                  <option value="" selected disabled data-lang-ko="국가를 선택하세요" data-lang-en="Select a country"
                    data-lang-ja="国を選択してください" data-lang-zh="请选择国家">Select a country</option>
                </select>
              </div>

              <div class="input-box">
                <label for="name" class="required" aria-required="true">
                  Name
                  <span class="sr-only">(Required)</span>
                </label>
                <input type="text" id="name" name="name" placeholder="Please enter your name." required
                  autocomplete="name" />
              </div>

              <div class="input-box">
                <label for="email" class="required" aria-required="true">
                  Email
                  <span class="sr-only">(Required)</span>
                </label>
                <input type="text" id="email" name="email" placeholder="Please enter your email." required
                  autocomplete="email" />
              </div>

              <div class="input-box">
                <label for="mobile" class="required" aria-required="true">
                  Mobile
                  <span class="sr-only">(Required)</span>
                </label>
                <input type="text" id="mobile" name="mobile" placeholder="Please enter your contact information."
                  required autocomplete="mobile" />
              </div>

              <div class="input-box">
                <label id="fileUploadLabel" for="uploadfile" class="required" aria-required="true">
                  <span class="label-text" data-lang-ko="파일 업로드" data-lang-en="File Upload" data-lang-ja="ファイルアップロード"
                    data-lang-zh="文件上传"></span>
                </label>
                <div class="file-upload-container">
                  <div class="file-upload-area" role="region" aria-labelledby="fileUploadLabel" id="dropZone">
                    <label for="file" class="file-upload-button">
                      <span class="plus-icon">+</span>
                    </label>
                    <input type="file" id="file" name="file" accept=".pdf,.doc,.docx" multiple
                      aria-describedby="fileHelpText" aria-label="Select File" style="display: none;">
                    <div id="fileHelpText" class="file-help-text"
                      data-lang-ko="허용된 파일 형식: PDF, DOC, DOCX. 최대 파일 크기: 5MB"
                      data-lang-en="Allowed file types: PDF, DOC, DOCX. Maximum file size: 5MB"
                      data-lang-ja="許可されているファイル形式：PDF、DOC、DOCX。最大ファイルサイズ：5MB"
                      data-lang-zh="允许的文件类型：PDF、DOC、DOCX。最大文件大小：5MB">
                    </div>
                  </div>
                  <div id="fileList" class="file-list"></div>
                  <div id="errorMessage" class="error-message" role="alert" aria-live="polite"></div>
                </div>
              </div>

              <div class="input-box button">
                <label for="submit" class="required">
                  <a href="https://smart.kipa.org" class="link-text" target="_blank" rel="noopener noreferrer"
                    aria-label="SMART5 특허 평가 보고서 제출 페이지로 이동">
                    SMART5
                  </a>
                  특허 평가 보고서를 제출하세요
                </label>
                <button id="submit" name="submit" class="normal-button">Submit</button>
              </div>
            </form>
            <style>
              #contactForm {
                width: 100%;
              }

              #contactForm .input-box {
                margin: 5px 0;
              }

              /* 링크 스타일 개선 */
              #contactForm .link-text {
                text-decoration: none;
                position: relative;
                color: inherit;
                /* 부모 요소의 색상 상속 */
                transition: color 0.3s ease;
                /* 색상 변화에 대한 트랜지션 추가 */
              }

              #contactForm .link-text:hover {
                cursor: pointer;
              }

              /* 밑줄 애니메이션 효과 */
              #contactForm .link-text::after {
                content: '';
                position: absolute;
                bottom: -2px;
                left: 0;
                width: 0;
                height: 2px;
                background-color: var(--orange-color);
                transition: width 0.3s ease;
                transform-origin: left;
                /* 왼쪽에서 시작하는 애니메이션 */
              }

              #contactForm .link-text:hover::after {
                width: 100%;
              }

              /* 접근성을 위한 포커스 스타일 */
              #contactForm .link-text:focus {
                outline: none;
              }

              #contactForm .link-text:focus::after {
                width: 100%;
              }

              .sr-only {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                border: 0;
              }
            </style>
            <div class="input-box button" style="display: none;">
              <label for="pay" class="required" aria-required="true">
                Payment
                <span class="sr-only">(Required)</span>
              </label>
              <button id="pay" name="pay" class="normal-button" style="display: none;">Payment</button>
            </div>
            
            <!-- 결제 폼 대신 주문 폼으로 교체 -->
            <!-- Order Form -->
            <!-- 결제 폼 대신 주문 폼으로 교체 -->
            <form id="orderForm" class="order-form">
              <!-- 주문자 정보 -->
               <div class="order-detail-section">
              <div class="input-box">
                <h3 class="form-subtitle">주문자 정보</h3>
                <div class="order-info">
                  <div class="input-box">
                    <label for="orderName" class="required">
                      이름
                      <span class="sr-only">(Required)</span>
                    </label>
                    <input type="text" id="orderName" name="orderName" required placeholder="주문자 이름을 입력하세요" />
                  </div>
                  <div class="input-box">
                    <label for="orderPhone" class="required">
                      연락처
                      <span class="sr-only">(Required)</span>
                    </label>
                    <input type="tel" id="orderPhone" name="orderPhone" required placeholder="연락처를 입력하세요" />
                  </div>
                  <div class="input-box">
                    <label for="orderEmail" class="required">
                      이메일
                      <span class="sr-only">(Required)</span>
                    </label>
                    <input type="email" id="orderEmail" name="orderEmail" required placeholder="이메일을 입력하세요" />
                  </div>
                  <div class="input-box mb-3">
                    <label for="orderMemo">
                      기타메모
                    </label>
                    <textarea id="orderMemo" name="orderMemo" rows="3" placeholder="배송 시 요청사항이나 기타 메모를 입력하세요"></textarea>
                  </div>
                </div>
              </div>
            
              <!-- 상품 정보 -->
              <div class="input-box mb-3">
                <h3 class="form-subtitle">상품 정보</h3>
                <div class="product-info">
                  <div class="product-image">
                    <img src="assets/images/p001.jpg" alt="특허뉴스PDF" class="product-thumb" />
                  </div>
                  <div class="product-details">
                    <p class="product-code">상품코드: 0001</p>
                    <p class="product-name">특허뉴스PDF</p>
                    <p class="product-quantity">수량: 1개</p>
                  </div>
                </div>
              </div>
            
              <!-- 결제 금액 -->
              <div class="input-box mb-3">
                <h3 class="form-subtitle">결제 금액</h3>
                <div class="payment-details">
                  <div class="price-row">
                    <span>상품가격</span>
                    <span class="amount">99,000 KRW</span>
                  </div>
                  <div class="price-row discount">
                    <span>할인금액</span>
                    <span class="amount">(-) 0 KRW</span>
                  </div>
                  <div class="price-row total">
                    <span>총 결제금액</span>
                    <span class="amount">99,000 KRW</span>
                  </div>
                </div>
              </div>
            
              <!-- 개인정보 수집 동의 -->
              <div class="input-box mb-3">
                <h3 class="form-subtitle">개인정보 수집 및 이용 동의</h3>
                <div class="privacy-consent">
                  <textarea readonly class="privacy-text">
            1. 개인정보의 수집 및 이용목적
            - 서비스 제공 및 계약의 이행
            - 상품 배송 및 대금 결제
            
            2. 수집하는 개인정보 항목
            - 이름, 연락처, 이메일 주소
            
            3. 개인정보의 보유 및 이용기간
            - 법령에 따른 보존기간까지
                  </textarea>
                  <div class="consent-check">
                    <input type="checkbox" id="privacyConsent" name="privacyConsent" checked />
                    <label for="privacyConsent">개인정보 수집 및 이용에 동의합니다 (필수)</label>
                  </div>
                </div>
              </div>
            
              <!-- 결제수단 선택 -->
              <div class="input-box mb-3">
                <h3 class="form-subtitle">결제수단 선택</h3>
                <div class="payment-method">
                  <div class="method-option">
                    <input type="checkbox" id="creditCard" name="paymentMethod" checked />
                    <label for="creditCard" class="disabled">신용카드</label>
                  </div>
                </div>
              </div>
            
              <!-- 결제하기 버튼 -->
              <div class="input-box button">
                <button type="submit" class="normal-button">결제하기</button>
              </div>
              </div>
            </form>
            <!-- </div> -->
            <!-- </div> -->
            <!-- 주문 완료 팝업 -->
            <div id="orderCompletePopup" class="modal-overlay" style="display: none;">
              <div class="modal-content">
                <div class="complete-popup">
                  <!-- 체크마크 아이콘 -->
                  <div class="complete-icon">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                      <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round" />
                    </svg>
                  </div>

                  <!-- 완료 메시지 -->
                  <h2 class="complete-title" data-lang-ko="주문이 완료되었습니다" data-lang-en="Order Completed"
                    data-lang-ja="注文が完了しました" data-lang-zh="订单已完成">
                    주문이 완료되었습니다
                  </h2>

                  <!-- 주문 정보 -->
                  <div class="order-details">
                    <div class="detail-row">
                      <span class="label" data-lang-ko="상품명" data-lang-en="Product" data-lang-ja="商品名"
                        data-lang-zh="产品名称">상품명</span>
                      <span class="value">특허뉴스PDF</span>
                    </div>
                    <div class="detail-row">
                      <span class="label" data-lang-ko="결제금액" data-lang-en="Amount" data-lang-ja="決済金額"
                        data-lang-zh="支付金额">결제금액</span>
                      <span class="value">99,000 KRW</span>
                    </div>
                  </div>

                  <!-- 완료 버튼 -->
                  <button type="button" class="complete-button" onclick="closeOrderPopup()">
                    <span data-lang-ko="확인" data-lang-en="Confirm" data-lang-ja="確認" data-lang-zh="确认">확인</span>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <style>
            
            .order-form {              
              width: 100%;
              max-height: 80vh;
              overflow-y: auto;
              padding-right: 16px;
              scrollbar-width: thin;
              scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
            }

            .order-form::-webkit-scrollbar {
                width: 6px;
            }

            .order-form::-webkit-scrollbar-track {
                background: transparent;
            }

            .order-form::-webkit-scrollbar-thumb {
                background-color: rgba(255, 255, 255, 0.3);
                border-radius: 3px;
            }
            
            .order-detail-section {
                padding: 20px;
                background: rgba(255, 255, 255, 0.05);
                border-radius: 8px;
                margin-bottom: 16px;
            }

            .order-info > div:not(:last-child) {
                margin-bottom: 16px;
            }

            .form-subtitle {
              font-size: 1.1rem;
              font-weight: bold;
              margin-bottom: 15px;
              color: #f6f6f6;
            }

            .order-info {
              display: flex;
              flex-direction: column;
              gap: 15px;
            }

            .product-info {
              display: flex;
              gap: 20px;
              padding: 15px;
              color: #fcfcfc;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 8px;
            }

            .product-image {
              width: 100px;
              height: 100px;
              overflow: hidden;
              border-radius: 4px;
            }

            .product-thumb {
              width: 100%;
              height: 100%;
              object-fit: cover;
            }

            .product-details {
              flex: 1;
            }

            .product-code {
              color: #666;
              font-size: 0.9rem;
            }

            .product-name {
              font-size: 1.1rem;
              font-weight: bold;
              margin: 5px 0;
            }

            .payment-details {
              background: rgba(255, 255, 255, 0.05);
              padding: 15px;
              border-radius: 8px;
            }

            .price-row {
              display: flex;
              justify-content: space-between;
              margin-bottom: 10px;
              color: #fcfcfc;
            }

            .price-row.discount {
              color: #ff4444;
            }

            .price-row.total {
              border-top: 1px solid rgba(255, 255, 255, 0.1);
              margin-top: 10px;
              padding-top: 10px;
              font-weight: bold;
              font-size: 1.1rem;
            }

            .privacy-consent {
              display: flex;
              flex-direction: column;
              gap: 10px;
            }

            .privacy-text {
              width: 100%;
              height: 150px;
              padding: 10px 4px;
              color: #fcfcfc;
              background: rgba(255, 255, 255, 0.05);
              border: 1px solid rgba(255, 255, 255, 0.1);
              border-radius: 4px;
              resize: none;
              margin-bottom: 10px;
            }

            .consent-check {
              display: flex;
              align-items: center;
              gap: 8px;
            }

            .payment-method {
              background: rgba(255, 255, 255, 0.05);
              padding: 15px;
              border-radius: 8px;
            }

            .method-option {
              display: flex;
              align-items: center;
              gap: 8px;
            }

            .method-option label.disabled {
              color: #666;
            }

            .normal-button {
              width: 100%;
              padding: 12px;
              background: var(--primary-color);
              color: white;
              border: none;
              border-radius: 4px;
              font-weight: bold;
              cursor: pointer;
              transition: background-color 0.3s;
            }

            .normal-button:hover {
              background: var(--primary-color-dark);
            }

            @media (max-width: 768px) {
              .product-info {
                flex-direction: column;
                align-items: center;
                text-align: center;
              }

              .product-image {
                width: 150px;
                height: 150px;
              }
            }

            .file-upload-container {
              margin: 10px 0;
            }

            .file-upload-area {
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              padding: 20px;
              border: 2px dashed #666;
              border-radius: 8px;
              background: transparent;
              cursor: pointer;
              transition: all 0.3s ease;
            }

            .file-upload-area:hover {
              border-color: #1a75ff;
              background: rgba(26, 117, 255, 0.05);
            }

            .file-upload-button {
              width: 50px;
              height: 50px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid #666;
              border-radius: 50%;
              cursor: pointer;
              transition: all 0.3s ease;
            }

            .file-upload-button:hover {
              border-color: #1a75ff;
              background: rgba(26, 117, 255, 0.1);
            }

            .plus-icon {
              font-size: 30px;
              color: #666;
              transition: color 0.3s ease;
            }

            .file-upload-button:hover .plus-icon {
              color: #1a75ff;
            }

            .file-help-text {
              margin-top: 10px;
              font-size: 12px;
              color: #666;
              text-align: center;
            }

            .file-preview {
              margin-top: 15px;
              padding: 10px;
              border-radius: 8px;
              background: rgba(255, 255, 255, 0.1);
            }

            /* .file-info {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
} */

            /* .remove-file {
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid #ff4444;
  border-radius: 50%;
  background: transparent;
  cursor: pointer;
  transition: all 0.3s ease;
} */

            /* .remove-file:hover {
  background: rgba(255, 68, 68, 0.1);
} */

            /* .minus-icon {
  font-size: 20px;
  color: #ff4444;
} */

            #fileName {
              color: #fff;
              word-break: break-all;
            }

            .error-message {
              margin-top: 10px;
              color: #ff4444;
              font-size: 14px;
            }

            .file-list {
              margin-top: 15px;
            }

            .file-item {
              display: flex;
              align-items: center;
              justify-content: space-between;
              padding: 8px 12px;
              margin-bottom: 8px;
              background: rgba(255, 255, 255, 0.1);
              border-radius: 4px;
            }

            .file-info {
              display: flex;
              align-items: center;
              gap: 10px;
              flex: 1;
            }

            .file-name {
              color: #fff;
              flex: 1;
              word-break: break-all;
            }

            .file-size {
              color: #999;
              font-size: 12px;
              white-space: nowrap;
            }

            .remove-file {
              width: 24px;
              height: 24px;
              min-width: 24px;
              display: flex;
              align-items: center;
              justify-content: center;
              border: 2px solid #ff4444;
              border-radius: 50%;
              background: transparent;
              cursor: pointer;
              transition: all 0.3s ease;
              margin-left: 10px;
            }

            .remove-file:hover {
              background: rgba(255, 68, 68, 0.1);
            }

            .minus-icon {
              font-size: 16px;
              color: #ff4444;
              line-height: 1;
            }

            .payment-form {
              display: none;
              width: 100%;
              margin-top: 20px;
            }

            .payment-form .input-box {
              margin-bottom: 20px;
            }

            .payment-form input {
              width: 100%;
              padding: 10px;
              border: 1px solid #ddd;
              border-radius: 4px;
              transition: border-color 0.3s;
            }

            .payment-form input:focus {
              border-color: #007bff;
              outline: none;
            }

            .payment-form .amount-wrapper {
              position: relative;
            }

            .payment-form .amount-wrapper input {
              text-align: right;
              padding-right: 50px;
            }

            .payment-form .amount-wrapper .currency {
              position: absolute;
              right: 10px;
              top: 50%;
              transform: translateY(-50%);
              color: #fcfcfc;
            }

            /* RTL 지원 */
            html[dir="rtl"] .amount-wrapper .currency {
              right: auto;
              left: 12px;
            }

            /* NICE Pay Modal Form */
            .nice-pay-modal {
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              z-index: 1000;
            }

            .nice-pay-modal .modal-overlay {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background: rgba(0, 0, 0, 0.5);
            }

            .nice-pay-modal .modal-content {
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              background: white;
              padding: 20px;
              border-radius: 8px;
            }

            /* 모달 오버레이 */
            .modal-overlay {
              position: fixed;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background: rgba(0, 0, 0, 0.7);
              display: flex;
              align-items: center;
              justify-content: center;
              z-index: 1000;
            }

            /* 모달 컨텐츠 */
            .modal-content {
              position: relative;
              background: #1a1a1a;
              border-radius: 12px;
              padding: 0;
              max-width: 90%;
              width: 400px;
              box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }

            /* 완료 팝업 스타일 */
            .complete-popup {
              padding: 32px;
              text-align: center;
              color: #fff;
            }

            /* 체크마크 아이콘 */
            .complete-icon {
              width: 64px;
              height: 64px;
              margin: 0 auto 24px;
              color: #4CAF50;
            }

            /* 완료 메시지 */
            .complete-title {
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 24px;
              color: #fff;
            }

            /* 주문 정보 */
            .order-details {
              background: rgba(255, 255, 255, 0.05);
              color: #fcfcfc;
              border-radius: 8px;
              padding: 16px;
              margin-bottom: 24px;
            }

            .detail-row {
              display: flex;
              justify-content: space-between;
              padding: 8px 0;
            }

            .detail-row .label {
              color: rgba(255, 255, 255, 0.7);
            }

            /* 완료 버튼 */
            .complete-button {
              background: var(--primary-color, #4CAF50);
              color: white;
              border: none;
              border-radius: 4px;
              padding: 12px 32px;
              font-size: 16px;
              font-weight: bold;
              cursor: pointer;
              transition: background-color 0.3s;
              width: 100%;
            }

            .complete-button:hover {
              background: var(--primary-color-dark, #388E3C);
            }
          </style>
          <script>
            // 맨 위에 추가
            let uploadedFiles = new Map();

            // 결제 폼 관련 다국어 에러 메시지
            const paymentErrorMessages = {
              ko: {
                name_mismatch: '카드 소유자 이름이 입력하신 이름과 일치하지 않습니다.',
                invalid_card: '올바른 카드 번호를 입력해주세요.',
                invalid_expiry: '올바른 만료일을 입력해주세요.',
                invalid_cvv: '올바른 CVV를 입력해주세요.',
                payment_failed: '결제 처리에 실패했습니다.',
                payment_success: '결제가 완료되었습니다.',
                processing_error: '결제 처리 중 오류가 발생했습니다.'
              },
              en: {
                name_mismatch: 'Cardholder name does not match the name you entered.',
                invalid_card: 'Please enter a valid card number.',
                invalid_expiry: 'Please enter a valid expiry date.',
                invalid_cvv: 'Please enter a valid CVV.',
                payment_failed: 'Payment processing failed.',
                payment_success: 'Payment completed successfully.',
                processing_error: 'An error occurred during payment processing.'
              },
              ja: {
                name_mismatch: 'カード名義人が入力された名前と一致しません。',
                invalid_card: '有効なカード番号を入力してください。',
                invalid_expiry: '有効な有効期限を入力してください。',
                invalid_cvv: '有効なCVVを入力してください。',
                payment_failed: '決済処理に失敗しました。',
                payment_success: '決済が完了しました。',
                processing_error: '決済処理中にエラーが発生しました。'
              },
              zh: {
                name_mismatch: '持卡人姓名与您输入的姓名不符。',
                invalid_card: '请输入有效的卡号。',
                invalid_expiry: '请输入有效的有效期。',
                invalid_cvv: '请输入有效的CVV。',
                payment_failed: '支付处理失败。',
                payment_success: '支付已完成。',
                processing_error: '支付处理过程中发生错误。'
              }
            };

            function handleFiles(files) {
                Array.from(files).forEach(file => {
                  const fileId = Date.now() + '-' + Math.random().toString(36).substr(2, 9);
                  console.log('Processing file:', file.name);
                  uploadedFiles.set(fileId, file);
                  addFileToList(file, fileId);
                });
            }

            function addFileToList(file, fileId) {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
        <div class="file-info">
            <span class="file-name">${file.name}</span>
            <span class="file-size">${formatFileSize(file.size)}</span>
        </div>
        <button type="button" class="remove-file" data-file-id="${fileId}">
            <span class="minus-icon">-</span>
        </button>
    `;

                document.getElementById('fileList').appendChild(fileItem);

                fileItem.querySelector('.remove-file').addEventListener('click', () => {
                  uploadedFiles.delete(fileId);
                  fileItem.remove();
                });
              }

            // 결제 폼 에러 메시지 표시 함수
            function showPaymentError(message) {
              const errorDiv = document.createElement('div');
              errorDiv.className = 'alert alert-danger mt-3';
              errorDiv.role = 'alert';
              errorDiv.textContent = message;

              // 기존 에러 메시지 제거
              const existingError = paymentForm.querySelector('.alert-danger');
              if (existingError) {
                existingError.remove();
              }

              // 폼 상단에 에러 메시지 추가
              paymentForm.insertBefore(errorDiv, paymentForm.firstChild);

              // 5초 후 에러 메시지 자동 제거
              setTimeout(() => {
                errorDiv.remove();
              }, 5000);
            }

            // 페이지 로드 시 실행
            document.addEventListener('DOMContentLoaded', function () {
              fetchCountries();
            });

            // imsi.src.txt
            // Contact Form 제출 처리
            contactForm.addEventListener('submit', async function (e) {
              e.preventDefault();
              console.log('Contact form submission started');

              try {
                // 파일 업로드 처리
                const fileData = new FormData();
                uploadedFiles.forEach((file) => {
                  fileData.append('files[]', file);
                });

                // 파일 업로드 요청
                const fileUploadResult = await fetch('upload_file.php', {
                  method: 'POST',
                  body: fileData
                });

                const fileResponse = await fileUploadResult.json();
                console.log('File upload response:', fileResponse);

                if (!fileResponse.success) {
                  throw new Error(fileResponse.message || '파일 업로드에 실패했습니다.');
                }

                // Contact Form 데이터 저장
                const formData = new FormData(this);
                formData.append('fileInfo', JSON.stringify(fileResponse.files));
                formData.append('lang', currentLang);

                const response = await fetch('contactForm_save.php', {
                  method: 'POST',
                  body: formData
                });

                const result = await response.json();
                console.log('Contact form save response:', result);

                if (!result.success) {
                  throw new Error(result.message || '저장에 실패했습니다.');
                }

                // 데이터 전달 및 폼 전환
                transferDataToOrderForm();

                // Form 표시 전환
                contactForm.style.display = 'none';
                orderForm.style.display = 'block';

              } catch (error) {
                console.error('Form submission error:', error);
                showError(error.message || '처리 중 오류가 발생했습니다.');
              }
            });

            // Contact Form에서 Order Form으로 데이터 전달
            function transferDataToOrderForm() {
              console.log('Transferring data to order form');

              // 기본 정보 전달
              document.getElementById('orderName').value = document.getElementById('name').value;
              document.getElementById('orderEmail').value = document.getElementById('email').value;
              document.getElementById('orderPhone').value = document.getElementById('mobile').value;

              // readonly 스타일 적용
              ['orderName', 'orderEmail', 'orderPhone'].forEach(id => {
                const element = document.getElementById(id);
                element.readOnly = true;
                element.classList.add('readonly-field');
              });
            }

            // Order Form 제출 처리 수정
            orderForm.addEventListener('submit', async function (e) {
              e.preventDefault();
              console.log('Order form submission started');

              try {
                const formData = new FormData(this);
                formData.append('lang', currentLang);

                const response = await fetch('process_order.php', {
                  method: 'POST',
                  body: formData
                });

                const result = await response.json();
                console.log('Order submission response:', result);

                if (!result.success) {
                  throw new Error(result.message || '주문 처리에 실패했습니다.');
                }

                // 성공 시 팝업 표시
                showOrderCompletePopup();

              } catch (error) {
                console.error('Order submission error:', error);
                showError(error.message);
              }
            });

            // 주문 완료 팝업 표시 함수
            function showOrderCompletePopup() {
              const popup = document.getElementById('orderCompletePopup');
              if (popup) {
                popup.style.display = 'flex';

                // 현재 언어로 텍스트 업데이트
                updatePopupLanguage(currentLang);
              }
            }

            // 팝업 닫기 함수
            function closeOrderPopup() {
              const popup = document.getElementById('orderCompletePopup');
              if (popup) {
                popup.style.display = 'none';
                // 페이지 새로고침
                window.location.reload();
              }
            }

            // 팝업 언어 업데이트 함수
            function updatePopupLanguage(lang) {
              const popup = document.getElementById('orderCompletePopup');
              if (popup) {
                popup.querySelectorAll(`[data-lang-${lang}]`).forEach(element => {
                  element.textContent = element.getAttribute(`data-lang-${lang}`);
                });
              }
            }

            // ESC 키로 팝업 닫기
            document.addEventListener('keydown', function (e) {
              if (e.key === 'Escape') {
                closeOrderPopup();
              }
            });

          </script>
          <div class="radius-box frame">
            <div class="dropdown-select">
              <button class="listing-btn  btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                data-bs-toggle="dropdown" aria-expanded="false">
                Patent
              </button>
              <ul class="dropdown-menu listing-select-box" aria-labelledby="dropdownMenuButton2">
                <li>
                  <div class="dropdown-item">Patent</div>
                </li>
                <li>
                  <div class="dropdown-item">Movie Drama Comics</div>
                </li>
                <li>
                  <div class="dropdown-item">Music</div>
                </li>
                <li>
                  <div class="dropdown-item">Dance</div>
                </li>
                <li>
                  <div class="dropdown-item">Franchise</div>
                </li>
                <li>
                  <div class="dropdown-item">Trademark</div>
                </li>
                <li>
                  <div class="dropdown-item">Character</div>
                </li>
              </ul>
            </div>
            <div class="radius-box swiper-container" id="swiperContainer">
              <div class="circle-wrapper">
                <span class="Sphere"></span>
              </div>
              <div class="swiper grid-swiper" id="swiperWrapper">
                <div class="swiper-wrapper">
                  <div class="swiper-slide swiper-grid-box">
                    <img src="assets/images/news/news.png" alt="1" />
                    <img src="assets/images/news/news-01.png" alt="2" />
                    <img src="assets/images/news/news-02.png" alt="3" />
                    <img src="assets/images/news/news-03.png" alt="4" />
                    <img src="assets/images/news/news-04.png" alt="5" />
                    <img src="assets/images/news/news-05.png" alt="6" />
                  </div>
                  <div class="swiper-slide swiper-grid-box">
                    <img src="assets/images/news/news-06.png" alt="7" />
                    <img src="assets/images/news/news-07.png" alt="8" />
                    <img src="assets/images/news/news-08.png" alt="9" />
                    <img src="assets/images/news/news-09.png" alt="10" />
                    <img src="assets/images/news/news-10.png" alt="11" />
                    <img src="assets/images/news/news-11.png" alt="12" />
                  </div>
                  <div class="swiper-slide swiper-grid-box">
                    <img src="assets/images/news/news-12.png" alt="13" />
                    <img src="assets/images/news/news-13.png" alt="14" />
                    <img src="assets/images/news/news-14.png" alt="15" />
                    <img src="assets/images/news/news-15.png" alt="16" />
                  </div>
                </div>
                <div class="swiper-pagination"></div>
              </div>
              <div class="single-swiper" id="singleSwiperWrapper">
                <div class="swiper-wrapper">
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news.png" alt="1" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-01.png" alt="2" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-02.png" alt="3" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-03.png" alt="4" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-04.png" alt="5" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-05.png" alt="6" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-06.png" alt="7" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-07.png" alt="8" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-08.png" alt="9" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-09.png" alt="10" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-10.png" alt="11" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-11.png" alt="12" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-12.png" alt="13" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-13.png" alt="14" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-14.png" alt="15" />
                  </div>
                  <div class="swiper-slide single-view">
                    <img src="assets/images/news/news-15.png" alt="16" />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
    <!-- footer start -->
    <footer class="footer-container">
      <div class="footer-wrapper">
        <div class="footer-logo">
          <span>Let’s share the IP, It’s IP time</span>
          <img src="assets/images/logo.svg" alt="logo" />
        </div>
        <div class="company-name">주식회사 아이피미디어그룹</div>
        <div class="company-info-grid">
          <span>대표: 이성용</span>
          <span>주소: 서울시 강남구 테헤란로151 1116호</span>
          <span>연락처: 02-2238-4345</span>
          <span>이메일: support@stipvelation.com</span>
          <span>사업자등록번호: 644-86-01439</span>
        </div>
      </div>
    </footer>
    <!-- footer end -->
  </div>
  <script>
    const swiperContainer = document.getElementById("swiperContainer");
    const swiperWrapper = document.getElementById("swiperWrapper");
    const singleSwiperWrapper = document.getElementById("singleSwiperWrapper");
    let gridSwiperInstance = null;
    let singleSwiperInstance = null;
    const isMobile = window.matchMedia("(max-width: 1000px)").matches;

    if (isMobile) {
      singleSwiperInstance = new Swiper(".single-swiper", {
        slidesPerView: 3,
        loop: true,
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        breakpoints: {
          768: {
            slidesPerView: 1,
            spaceBetween: 10,
          },
          700: {
            slidesPerView: 4,
            spaceBetween: 10,
          },
        },
        spaceBetween: 10,
        speed: 1000, // 전환 속도를 좀 더 부드럽게 조정
      });
    } else {
      gridSwiperInstance = new Swiper(".grid-swiper", {
        slidesPerView: 1,
        loop: true,
        autoplay: {
          delay: 3000,
          disableOnInteraction: false,
        },
        speed: 1000, // 전환 속도를 좀 더 부드럽게 조정

        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        }
      });
    }


    window.addEventListener("resize", () => {
      const isMobile = window.matchMedia("(max-width: 1000px)").matches;
      if (isMobile && !singleSwiperInstance) {
        singleSwiperInstance = new Swiper(".single-swiper", {
          slidesPerView: 3,
          loop: true,
          autoplay: {
            delay: 3000,
            disableOnInteraction: false,
          },
          breakpoints: {
            768: {
              slidesPerView: 1,
              spaceBetween: 10,
            },
            700: {
              slidesPerView: 4,
              spaceBetween: 10,
            },
          },
          spaceBetween: 10,
          speed: 1000, // 전환 속도를 좀 더 부드럽게 조정
        });
      } else if (!gridSwiperInstance) {
        gridSwiperInstance = new Swiper(".grid-swiper", {
          slidesPerView: 1,
          loop: true,
          autoplay: {
            delay: 3000,
            disableOnInteraction: false,
          },
          speed: 1000, // 전환 속도를 좀 더 부드럽게 조정

          pagination: {
            el: ".swiper-pagination",
            clickable: true,
          }
        });
      }
    })
  </script>
  <script>
    const tagCloudImages = {
      "Movie Drama Comics": [
        wrappingImgElement("Movie/Group 5005.png"),
        wrappingImgElement("Movie/Group.png"),
        wrappingImgElement("Movie/Group-1.png"),
        wrappingImgElement("Movie/Group-2.png"),
        wrappingImgElement("Movie/Group-3.png"),
        wrappingImgElement("Movie/Group-4.png"),
      ],
      "Music": [
        wrappingImgElement("Music/Clip path group.png"),
        wrappingImgElement("Music/Group.png"),
        wrappingImgElement("Music/Group-1.png"),
        wrappingImgElement("Music/Group-2.png"),
        wrappingImgElement("Music/Group-3.png"),
        wrappingImgElement("Music/Group-4.png"),
        wrappingImgElement("Music/Group-5.png"),
        wrappingImgElement("Music/Group-6.png"),
        wrappingImgElement("Music/Group-7.png"),
        wrappingImgElement("Music/Group-8.png"),
      ],
      "Dance": [
        wrappingImgElement("Dance/Group 5006.png"),
        wrappingImgElement("Dance/Group 5012.png"),
        wrappingImgElement("Dance/Group-1.png"),
        wrappingImgElement("Dance/Group-2.png"),
        wrappingImgElement("Dance/Group-3.png"),
        wrappingImgElement("Dance/Group-4.png"),
        wrappingImgElement("Dance/Group-5.png"),
        wrappingImgElement("Dance/Group-6.png"),
      ],
      "Franchise": [
        wrappingImgElement("Franchise/Group.png"),
        wrappingImgElement("Franchise/Group-1.png"),
        wrappingImgElement("Franchise/Group-2.png"),
        wrappingImgElement("Franchise/Group-3.png"),
        wrappingImgElement("Franchise/Group-4.png"),
        wrappingImgElement("Franchise/Group-5.png"),
        wrappingImgElement("Franchise/Group-6.png"),
        wrappingImgElement("Franchise/Group-7.png"),
      ],
      "Trademark": [
        wrappingImgElement("Trademark/Group 5007.png"),
        wrappingImgElement("Trademark/Group.png"),
        wrappingImgElement("Trademark/Group-1.png"),
        wrappingImgElement("Trademark/Group-2.png"),
        wrappingImgElement("Trademark/Group-3.png"),
      ],
      "Character": [
        wrappingImgElement("Character/Group 5008.png"),
        wrappingImgElement("Character/Group 5009.png"),
        wrappingImgElement("Character/Group.png"),
        wrappingImgElement("Character/Group-1.png"),
        wrappingImgElement("Character/Group-2.png"),
        wrappingImgElement("Character/Group-3.png"),
        wrappingImgElement("Character/Group-4.png"),
        wrappingImgElement("Character/Group-5.png"),
        wrappingImgElement("Character/Group-6.png"),
      ],

    }
    function wrappingImgElement(src) {
      return `<img width='120px' src='assets/images/logo/${src}' alt='' />`
    }

    let tagCloud = null

    const cloudContainer = document.querySelector(".Sphere");
    const tagElements = cloudContainer.querySelectorAll(".tagcloud--item");
    const dropdownSelect = document.querySelector('.dropdown-select');
    const circleWrapper = document.querySelector('.circle-wrapper');
    const radius = Math.max(
      170,
      Math.min(280, window.innerWidth - window.innerWidth * 0.95)
    );


    dropdownSelect.addEventListener('click', (event) => {
      const liElement = event.target.closest('li');
      if (liElement) {
        const divElement = liElement.querySelector('div'); // li 안의 div 찾기
        if (divElement) {
          divValue = divElement.textContent.trim(); // div 값 가져오기
        }
      }
      const listingBtn = document.querySelector('.listing-btn');

      if (listingBtn && divValue) {
        const frameBox = document.querySelector('.frame');
        const squareBox = document.querySelector('.Sphere');
        if (divValue === "Patent") {
          swiperWrapper.style.display = "block";
          singleSwiperWrapper.style.display = "block";
          circleWrapper.style.display = "none";
          if (tagCloud) tagCloud.pause();
          if (window.innerWidth < 768) {
            frameBox.style.height = "204px";
          }
        } else {

          if (!tagCloud) {
            tagCloud = TagCloud(".Sphere", tagCloudImages['Movie Drama Comics'], {
              radius,
              maxSpeed: "normal",
              initSpeed: "normal",
              direction: 205,
              keep: true,
              useHTML: true,
            });
          }
          singleSwiperWrapper.style.display = "none";
          swiperWrapper.style.display = "none";
          circleWrapper.style.display = "flex";
          if (window.innerWidth < 768) {
            const padding = 64;
            frameBox.style.height = squareBox.clientHeight + padding + "px";
          }
          tagCloud.resume();
          tagCloud.update(tagCloudImages[divValue]);
        }
        listingBtn.textContent = divValue;
      }
    });

  </script>
  <!-- <script src="components/header.js" defer></script> -->
  <!-- 환율 API 키 -->

  <script src="js/updated-language-script.js"></script>
  <script src="js/currency-converter2.js"></script>
  <!-- <script src="js/payment-handler3.js"></script> -->

  <!-- 새로 추가된 스크립트들 -->
  <!-- <script src="js/file-uploader.js"></script> -->
  <!-- <script src="payment-handler.js"></script> -->
  <!-- <script src="form-handler.js"></script> -->
</body>

</html>